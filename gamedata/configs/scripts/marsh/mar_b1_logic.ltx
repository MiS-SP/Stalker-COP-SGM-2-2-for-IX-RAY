;Логика "Рыбацкий хутор"

[walker@def_guarder]
use_camp = false
gather_items_enabled = false
help_wounded_enabled = true
corpse_detection_enabled = false
precond_timer = {!actor_enemy =actor_has_weapon} true, false

[remark@def_guarder]
anim = threat
target = story|actor
on_info = {-mar_b1_base_guard =actor_has_weapon} %+mar_b1_base_guard =play_sound_theme(zat_a2_base_guard)%

;

[logic@mar_b1_commander]
active = walker@commander
suitable = {=check_npc_name(mar_b1_commander)} true
prior = 200

[walker@commander]
path_walk = commander_walk
path_look = commander_look
use_camp = false
gather_items_enabled = false
help_wounded_enabled = false
corpse_detection_enabled = false
invulnerable = {!actor_enemy -mar_army_cargo_talk_commander} true, false
meet = meet@b1_commander

[meet@b1_commander]
use = {-mar_capture_church_captured} false, {+mar_army_cargo_talk_commander !npc_talking} false, {+mar_capture_church_talk -mar_army_cargo_nothing_found !npc_talking} false, {!actor_enemy !actor_has_weapon !has_enemy} true, false
allow_break = false
trade_enable = false

;

[logic@mar_b1_guarder_1]
active = walker@guarder_1
suitable = {=check_npc_name(sim_default_stalker)} true
prior = 100

[walker@guarder_1]:walker@def_guarder
path_walk = guard_1_walk
path_look = guard_1_look
on_info = {=check_precond_timer(2500) =dist_to_actor_le(5)} remark@guarder_1

[remark@guarder_1]:remark@def_guarder
on_info2 = {!actor_has_weapon} walker@guarder_1 %-mar_b1_base_guard%
on_game_timer = 180|walker@guarder_1 %-mar_b1_base_guard%

;

[logic@mar_b1_guarder_2]
active = walker@guarder_2
suitable = {=check_npc_name(sim_default_stalker)} true
prior = 100

[walker@guarder_2]:walker@def_guarder
path_walk = guard_2_walk
path_look = guard_2_look
on_info = {=check_precond_timer(2500) =dist_to_actor_le(5)} remark@guarder_2

[remark@guarder_2]:remark@def_guarder
on_info2 = {!actor_has_weapon} walker@guarder_2 %-mar_b1_base_guard%
on_game_timer = 180|walker@guarder_2 %-mar_b1_base_guard%

;

[logic@mar_b1_guarder_3]
active = walker@guarder_3
suitable = {=check_npc_name(sim_default_stalker)} true
prior = 100

[walker@guarder_3]:walker@def_guarder
path_walk = guard_3_walk
path_look = guard_3_look
on_info = {=check_precond_timer(2500) =dist_to_actor_le(5)} remark@guarder_3

[remark@guarder_3]:remark@def_guarder
on_info2 = {!actor_has_weapon} walker@guarder_3 %-mar_b1_base_guard%
on_game_timer = 180|walker@guarder_3 %-mar_b1_base_guard%

;

[logic@mar_b1_guarder_4]
active = walker@guarder_4
suitable = {=check_npc_name(sim_default_stalker)} true
prior = 100

[walker@guarder_4]:walker@def_guarder
path_walk = guard_4_walk
path_look = guard_4_look
on_info = {=check_precond_timer(2500) =dist_to_actor_le(5)} remark@guarder_4

[remark@guarder_4]:remark@def_guarder
on_info2 = {!actor_has_weapon} walker@guarder_4 %-mar_b1_base_guard%
on_game_timer = 180|walker@guarder_4 %-mar_b1_base_guard%

;

[logic@mar_b1_guarder_5]
active = walker@guarder_5
suitable = {=check_npc_name(sim_default_stalker)} true
prior = 100

[walker@guarder_5]:walker@def_guarder
path_walk = guard_5_walk
path_look = guard_5_look
on_info = {=check_precond_timer(2500) =dist_to_actor_le(5)} remark@guarder_5

[remark@guarder_5]:remark@def_guarder
on_info2 = {!actor_has_weapon} walker@guarder_5 %-mar_b1_base_guard%
on_game_timer = 180|walker@guarder_5 %-mar_b1_base_guard%

;

[logic@mar_b1_guarder_6]
active = walker@guarder_6
suitable = {=check_npc_name(sim_default_stalker)} true
prior = 100

[walker@guarder_6]:walker@def_guarder
path_walk = guard_6_walk
path_look = guard_6_look
on_info = {=check_precond_timer(2500) =dist_to_actor_le(5)} remark@guarder_6

[remark@guarder_6]:remark@def_guarder
on_info2 = {!actor_has_weapon} walker@guarder_6 %-mar_b1_base_guard%
on_game_timer = 180|walker@guarder_6 %-mar_b1_base_guard%

;

[logic@mar_b1_guarder_7]
active = walker@guarder_7
suitable = {=check_npc_name(sim_default_stalker)} true
prior = 100

[walker@guarder_7]:walker@def_guarder
path_walk = guard_7_walk
path_look = guard_7_look
on_info = {=check_precond_timer(2500) =dist_to_actor_le(5)} remark@guarder_7

[remark@guarder_7]:remark@def_guarder
on_info2 = {!actor_has_weapon} walker@guarder_7 %-mar_b1_base_guard%
on_game_timer = 180|walker@guarder_7 %-mar_b1_base_guard%

;

[logic@mar_b1_guarder_8]
active = walker@guarder_8
suitable = {=check_npc_name(sim_default_stalker)} true
prior = 100

[walker@guarder_8]:walker@def_guarder
path_walk = guard_8_walk
path_look = guard_8_look
on_info = {=check_precond_timer(2500) =dist_to_actor_le(5)} remark@guarder_8

[remark@guarder_8]:remark@def_guarder
on_info2 = {!actor_has_weapon} walker@guarder_8 %-mar_b1_base_guard%
on_game_timer = 180|walker@guarder_8 %-mar_b1_base_guard%

;

[logic@mar_b1_guarder_9]
active = walker@guarder_9
suitable = {=check_npc_name(sim_default_stalker)} true
prior = 100

[walker@guarder_9]:walker@def_guarder
path_walk = guard_9_walk
path_look = guard_9_look
on_info = {=check_precond_timer(2500) =dist_to_actor_le(5)} remark@guarder_9

[remark@guarder_9]:remark@def_guarder
on_info2 = {!actor_has_weapon} walker@guarder_9 %-mar_b1_base_guard%
on_game_timer = 180|walker@guarder_9 %-mar_b1_base_guard%

;

[logic@mar_b1_guarder_10]
active = walker@guarder_10
suitable = {=check_npc_name(sim_default_stalker)} true
prior = 100

[walker@guarder_10]:walker@def_guarder
path_walk = guard_10_walk
path_look = guard_10_look
on_info = {=check_precond_timer(2500) =dist_to_actor_le(5)} remark@guarder_10

[remark@guarder_10]:remark@def_guarder
on_info2 = {!actor_has_weapon} walker@guarder_10 %-mar_b1_base_guard%
on_game_timer = 180|walker@guarder_10 %-mar_b1_base_guard%

;

[logic@mar_b1_guarder_11]
active = walker@guarder_11
suitable = {=check_npc_name(sim_default_stalker)} true
prior = 100

[walker@guarder_11]:walker@def_guarder
path_walk = guard_11_walk
path_look = guard_11_look
on_info = {=check_precond_timer(2500) =dist_to_actor_le(5)} remark@guarder_11

[remark@guarder_11]:remark@def_guarder
on_info2 = {!actor_has_weapon} walker@guarder_11 %-mar_b1_base_guard%
on_game_timer = 180|walker@guarder_11 %-mar_b1_base_guard%

;

[logic@mar_b1_guarder_12]
active = walker@guarder_12
suitable = {=check_npc_name(sim_default_stalker)} true
prior = 100

[walker@guarder_12]:walker@def_guarder
path_walk = guard_12_walk
path_look = guard_12_look
on_info = {=check_precond_timer(2500) =dist_to_actor_le(5)} remark@guarder_12

[remark@guarder_12]:remark@def_guarder
on_info2 = {!actor_has_weapon} walker@guarder_12 %-mar_b1_base_guard%
on_game_timer = 180|walker@guarder_12 %-mar_b1_base_guard%

;

[logic@mar_b1_guarder_13]
active = walker@guarder_13
suitable = {=check_npc_name(sim_default_stalker)} true
prior = 100

[walker@guarder_13]:walker@def_guarder
path_walk = guard_13_walk
path_look = guard_13_look
on_info = {=check_precond_timer(2500) =dist_to_actor_le(5)} remark@guarder_13

[remark@guarder_13]:remark@def_guarder
on_info2 = {!actor_has_weapon} walker@guarder_13 %-mar_b1_base_guard%
on_game_timer = 180|walker@guarder_13 %-mar_b1_base_guard%

;

[logic@mar_b1_guarder_14]
active = walker@guarder_14
suitable = {=check_npc_name(sim_default_stalker)} true
prior = 100

[walker@guarder_14]:walker@def_guarder
path_walk = guard_14_walk
path_look = guard_14_look
on_info = {=check_precond_timer(2500) =dist_to_actor_le(5)} remark@guarder_14

[remark@guarder_14]:remark@def_guarder
on_info2 = {!actor_has_weapon} walker@guarder_14 %-mar_b1_base_guard%
on_game_timer = 180|walker@guarder_14 %-mar_b1_base_guard%

;

[logic@mar_b1_guarder_15]
active = walker@guarder_15
suitable = {=check_npc_name(sim_default_stalker)} true
prior = 100

[walker@guarder_15]:walker@def_guarder
path_walk = guard_15_walk
path_look = guard_15_look
on_info = {=check_precond_timer(2500) =dist_to_actor_le(5)} remark@guarder_15

[remark@guarder_15]:remark@def_guarder
on_info2 = {!actor_has_weapon} walker@guarder_15 %-mar_b1_base_guard%
on_game_timer = 180|walker@guarder_15 %-mar_b1_base_guard%

;

[logic@mar_b1_guarder_16]
active = walker@guarder_16
suitable = {=check_npc_name(sim_default_stalker)} true
prior = 101

[walker@guarder_16]:walker@def_guarder
avail_speak = 15|wait|true
path_walk = walker_1_walk
on_info = {=check_precond_timer(2500) =dist_to_actor_le(5)} remark@guarder_16

[remark@guarder_16]:remark@def_guarder
on_info2 = {!actor_has_weapon} walker@guarder_16 %-mar_b1_base_guard%
on_game_timer = 180|walker@guarder_16 %-mar_b1_base_guard%

;

[logic@mar_b1_guarder_17]
active = walker@guarder_17
suitable = {=check_npc_name(sim_default_stalker)} true
prior = 101

[walker@guarder_17]:walker@def_guarder
avail_speak = 15|wait|true
path_walk = walker_2_walk
on_info = {=check_precond_timer(2500) =dist_to_actor_le(5)} remark@guarder_17

[remark@guarder_17]:remark@def_guarder
on_info2 = {!actor_has_weapon} walker@guarder_17 %-mar_b1_base_guard%
on_game_timer = 180|walker@guarder_17 %-mar_b1_base_guard%

;

[logic@mar_b1_guarder_18]
active = walker@guarder_18
suitable = {=check_npc_name(sim_default_stalker)} true
prior = 101

[walker@guarder_18]:walker@def_guarder
avail_speak = 15|wait|true
path_walk = walker_3_walk
on_info = {=check_precond_timer(2500) =dist_to_actor_le(5)} remark@guarder_18

[remark@guarder_18]:remark@def_guarder
on_info2 = {!actor_has_weapon} walker@guarder_18 %-mar_b1_base_guard%
on_game_timer = 180|walker@guarder_18 %-mar_b1_base_guard%

;

[logic@mar_b1_guarder_19]
active = walker@guarder_19
suitable = {=check_npc_name(sim_default_stalker)} true
prior = 101

[walker@guarder_19]:walker@def_guarder
avail_speak = 15|wait|true
path_walk = walker_4_walk
on_info = {=check_precond_timer(2500) =dist_to_actor_le(5)} remark@guarder_19

[remark@guarder_19]:remark@def_guarder
on_info2 = {!actor_has_weapon} walker@guarder_19 %-mar_b1_base_guard%
on_game_timer = 180|walker@guarder_19 %-mar_b1_base_guard%