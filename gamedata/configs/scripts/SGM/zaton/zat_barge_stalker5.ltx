[logic]
active = move@waiting

[move@waiting]
move_dest_number       = 1203498
move_look_vertex       = 1190832
move_state_when_center = guard
move_state_when_move   = walk
meet                   = meet
invulnerable           = {-zat_monsters_wave_fail -zat_monsters_wave_reward} true, false
combat_ignore_cond     = {=check_enemy_name(zat_b18_dog_noah)} true
on_info                = {=actor_neutral} %=actor_friend%, {=actor_enemy} %=actor_friend%
on_info2               = {+zat_monsters_wave_fail} nil, {+zat_monsters_wave_complete} nil
on_info3               = {+zat_monsters_wave_on_firepos} move@defence

[move@defence]
move_dest_number       = 1203498
move_state_when_center = guard
move_state_when_move   = assault
move_look_vertex       = 1190832
combat_ignore_cond     = {=check_enemy_name(zat_b18_dog_noah)} true
invulnerable           = {-zat_monsters_wave_appeared_1_controller} true, false
on_info                = {=actor_neutral} %=actor_friend%, {=actor_enemy} %=actor_friend%
on_info2               = {+zat_monsters_wave_fail} nil, {+zat_monsters_wave_complete} nil
