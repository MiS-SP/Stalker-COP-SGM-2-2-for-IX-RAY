[logic]
active = move@wait_actor
on_death = death
danger = danger_ignore
on_hit = hit

[hit]
on_info = {=present_hit_by_actor} %+jup_rasvet_base_alarm +jup_rasvet_base_hit%, %+jup_rasvet_base_hit%

[death]
on_info = {=killed_by_actor} %+jup_rasvet_base_alarm +jup_rasvet_base_actor_hit +jup_rasvet_polter_quest_skaut_dead%, %+jup_rasvet_polter_quest_skaut_dead%

[danger_ignore]            
ignore_distance = 5

[move@wait_actor]
move_dest_number       = 994811
move_look_subject      = 988840
move_state_when_center = psy_pain
move_state_when_move   = psy_pain
meet                   = meet
invulnerable           = true
on_info                = {+jup_rasvet_polter_skauts_talking !npc_talking} move@go_to_base

[move@go_to_base]
scheme_type            = patrol
patrol_count_path      = 6
patrol_path_1          = 907013
patrol_path_1_state    = rush
patrol_path_2          = 767694
patrol_path_2_state    = assault
patrol_path_3          = 640032
patrol_path_3_state    = assault
patrol_path_4          = 460565
patrol_path_4_state    = assault
patrol_path_5          = 311466
patrol_path_5_state    = assault
patrol_path_6          = 264638
patrol_path_6_state    = assault
approach_state         = hide_na|20|>
on_patrol_path         = 6|move@back_to_readypoint
invulnerable           = false

[move@back_to_readypoint]
move_dest_number       = 94809
move_look_vertex       = 98461
move_state_when_center = sit
move_state_when_move   = run
move_center_action     = %+jup_rasvet_polter_skaut_allow_talk%
invulnerable           = false
meet                   = meet@on_base
on_info                = {!actor_enemy +jup_rasvet_base_alarm} %=actor_enemy%

[meet]
abuse           = false
use             = true
allow_break     = false
meet_on_talking = false

[meet@on_base]
abuse           = false
use             = {+jup_rasvet_polter_skaut_allow_talk !has_enemy} true, false
allow_break     = false
meet_on_talking = false